{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.initPasswordless = initPasswordless;\nexports.setResendSuccess = setResendSuccess;\nexports.resendSuccess = resendSuccess;\nexports.setResendFailed = setResendFailed;\nexports.resendFailed = resendFailed;\nexports.resendOngoing = resendOngoing;\nexports.resend = resend;\nexports.resendAvailable = resendAvailable;\nexports.restartPasswordless = restartPasswordless;\nexports.send = send;\nexports.isSendLink = isSendLink;\nexports.setPasswordlessStarted = setPasswordlessStarted;\nexports.passwordlessStarted = passwordlessStarted;\nexports.passwordlessConnection = passwordlessConnection;\nexports.isEmail = isEmail;\nexports.showTerms = showTerms;\nexports.mustAcceptTerms = mustAcceptTerms;\nexports.termsAccepted = termsAccepted;\nexports.toggleTermsAcceptance = toggleTermsAcceptance;\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _index = require('../../core/index');\n\nvar l = _interopRequireWildcard(_index);\n\nvar _index2 = require('../../field/index');\n\nvar _phone_number = require('../../field/phone_number');\n\nvar _data_utils = require('../../utils/data_utils');\n\nvar _web_api = require('../../core/web_api');\n\nvar _web_api2 = _interopRequireDefault(_web_api);\n\nvar _sync = require('../../sync');\n\nvar _sync2 = _interopRequireDefault(_sync);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar _dataFns = (0, _data_utils.dataFns)(['passwordless']),\n    get = _dataFns.get,\n    initNS = _dataFns.initNS,\n    tget = _dataFns.tget,\n    tremove = _dataFns.tremove,\n    tset = _dataFns.tset;\n\nfunction initPasswordless(m, opts) {\n  // TODO: validate opts\n  var send = opts.passwordlessMethod === 'link' ? 'link' : 'code';\n  var mustAcceptTerms = !!opts.mustAcceptTerms;\n  var showTerms = opts.showTerms === undefined ? true : !!opts.showTerms;\n  m = initNS(m, (0, _immutable.Map)({\n    send: send,\n    mustAcceptTerms: mustAcceptTerms,\n    showTerms: showTerms\n  }));\n\n  if (opts.defaultLocation && typeof opts.defaultLocation === 'string') {\n    m = (0, _phone_number.initLocation)(m, opts.defaultLocation.toUpperCase());\n  } else {\n    m = (0, _sync2.default)(m, 'location', {\n      recoverResult: 'US',\n      syncFn: function syncFn(m, cb) {\n        return _web_api2.default.getUserCountry(l.id(m), cb);\n      },\n      successFn: function successFn(m, result) {\n        return (0, _phone_number.initLocation)(m, result);\n      }\n    });\n  }\n\n  return m;\n}\n\nfunction setResendStatus(m, value) {\n  // TODO: check value\n  return tset(m, 'resendStatus', value);\n}\n\nfunction setResendSuccess(m) {\n  return setResendStatus(m, 'success');\n}\n\nfunction resendSuccess(m) {\n  return resendStatus(m) == 'success';\n}\n\nfunction setResendFailed(m) {\n  return setResendStatus(m, 'failed');\n}\n\nfunction resendFailed(m) {\n  return resendStatus(m) == 'failed';\n}\n\nfunction resendOngoing(m) {\n  return resendStatus(m) == 'ongoing';\n}\n\nfunction resend(m) {\n  if (resendAvailable(m)) {\n    return setResendStatus(m, 'ongoing');\n  } else {\n    return m;\n  }\n}\n\nfunction resendStatus(m) {\n  return tget(m, 'resendStatus', 'waiting');\n}\n\nfunction resendAvailable(m) {\n  return resendStatus(m) == 'waiting' || resendStatus(m) == 'failed';\n}\n\nfunction restartPasswordless(m) {\n  // TODO: maybe we can take advantage of the transient fields\n  m = tremove(m, 'passwordlessStarted');\n  m = tremove(m, 'resendStatus'); // only for link\n\n  m = (0, _index2.clearFields)(m, ['vcode']); // only for code\n\n  return l.clearGlobalError(m);\n}\n\nfunction send(m) {\n  return get(m, 'send', isEmail(m) ? 'link' : 'code');\n}\n\nfunction isSendLink(m) {\n  return send(m) === 'link';\n}\n\nfunction setPasswordlessStarted(m, value) {\n  return tset(m, 'passwordlessStarted', value);\n}\n\nfunction passwordlessStarted(m) {\n  return tget(m, 'passwordlessStarted', false);\n}\n\nfunction passwordlessConnection(m) {\n  return l.connections(m, 'passwordless', 'email').get(0) || l.connections(m, 'passwordless', 'sms').get(0) || new _immutable.Map();\n}\n\nfunction isEmail(m) {\n  var c = passwordlessConnection(m);\n  return c.isEmpty() ? undefined : c.get('strategy') === 'email';\n}\n\nfunction showTerms(m) {\n  return get(m, 'showTerms', true);\n}\n\nfunction mustAcceptTerms(m) {\n  return get(m, 'mustAcceptTerms', false);\n}\n\nfunction termsAccepted(m) {\n  return !mustAcceptTerms(m) || tget(m, 'termsAccepted', false);\n}\n\nfunction toggleTermsAcceptance(m) {\n  return tset(m, 'termsAccepted', !termsAccepted(m));\n}","map":{"version":3,"sources":["/Users/mozcan/Desktop/UK/gasbroker-front-end/node_modules/auth0-lock/lib/connection/passwordless/index.js"],"names":["exports","__esModule","initPasswordless","setResendSuccess","resendSuccess","setResendFailed","resendFailed","resendOngoing","resend","resendAvailable","restartPasswordless","send","isSendLink","setPasswordlessStarted","passwordlessStarted","passwordlessConnection","isEmail","showTerms","mustAcceptTerms","termsAccepted","toggleTermsAcceptance","_immutable","require","_immutable2","_interopRequireDefault","_index","l","_interopRequireWildcard","_index2","_phone_number","_data_utils","_web_api","_web_api2","_sync","_sync2","obj","newObj","key","Object","prototype","hasOwnProperty","call","default","_dataFns","dataFns","get","initNS","tget","tremove","tset","m","opts","passwordlessMethod","undefined","Map","defaultLocation","initLocation","toUpperCase","recoverResult","syncFn","cb","getUserCountry","id","successFn","result","setResendStatus","value","resendStatus","clearFields","clearGlobalError","connections","c","isEmpty"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.initPasswordless = initPasswordless;\nexports.setResendSuccess = setResendSuccess;\nexports.resendSuccess = resendSuccess;\nexports.setResendFailed = setResendFailed;\nexports.resendFailed = resendFailed;\nexports.resendOngoing = resendOngoing;\nexports.resend = resend;\nexports.resendAvailable = resendAvailable;\nexports.restartPasswordless = restartPasswordless;\nexports.send = send;\nexports.isSendLink = isSendLink;\nexports.setPasswordlessStarted = setPasswordlessStarted;\nexports.passwordlessStarted = passwordlessStarted;\nexports.passwordlessConnection = passwordlessConnection;\nexports.isEmail = isEmail;\nexports.showTerms = showTerms;\nexports.mustAcceptTerms = mustAcceptTerms;\nexports.termsAccepted = termsAccepted;\nexports.toggleTermsAcceptance = toggleTermsAcceptance;\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _index = require('../../core/index');\n\nvar l = _interopRequireWildcard(_index);\n\nvar _index2 = require('../../field/index');\n\nvar _phone_number = require('../../field/phone_number');\n\nvar _data_utils = require('../../utils/data_utils');\n\nvar _web_api = require('../../core/web_api');\n\nvar _web_api2 = _interopRequireDefault(_web_api);\n\nvar _sync = require('../../sync');\n\nvar _sync2 = _interopRequireDefault(_sync);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _dataFns = (0, _data_utils.dataFns)(['passwordless']),\n    get = _dataFns.get,\n    initNS = _dataFns.initNS,\n    tget = _dataFns.tget,\n    tremove = _dataFns.tremove,\n    tset = _dataFns.tset;\n\nfunction initPasswordless(m, opts) {\n  // TODO: validate opts\n  var send = opts.passwordlessMethod === 'link' ? 'link' : 'code';\n  var mustAcceptTerms = !!opts.mustAcceptTerms;\n  var showTerms = opts.showTerms === undefined ? true : !!opts.showTerms;\n\n  m = initNS(m, (0, _immutable.Map)({ send: send, mustAcceptTerms: mustAcceptTerms, showTerms: showTerms }));\n  if (opts.defaultLocation && typeof opts.defaultLocation === 'string') {\n    m = (0, _phone_number.initLocation)(m, opts.defaultLocation.toUpperCase());\n  } else {\n    m = (0, _sync2.default)(m, 'location', {\n      recoverResult: 'US',\n      syncFn: function syncFn(m, cb) {\n        return _web_api2.default.getUserCountry(l.id(m), cb);\n      },\n      successFn: function successFn(m, result) {\n        return (0, _phone_number.initLocation)(m, result);\n      }\n    });\n  }\n  return m;\n}\n\nfunction setResendStatus(m, value) {\n  // TODO: check value\n  return tset(m, 'resendStatus', value);\n}\n\nfunction setResendSuccess(m) {\n  return setResendStatus(m, 'success');\n}\n\nfunction resendSuccess(m) {\n  return resendStatus(m) == 'success';\n}\n\nfunction setResendFailed(m) {\n  return setResendStatus(m, 'failed');\n}\n\nfunction resendFailed(m) {\n  return resendStatus(m) == 'failed';\n}\n\nfunction resendOngoing(m) {\n  return resendStatus(m) == 'ongoing';\n}\n\nfunction resend(m) {\n  if (resendAvailable(m)) {\n    return setResendStatus(m, 'ongoing');\n  } else {\n    return m;\n  }\n}\n\nfunction resendStatus(m) {\n  return tget(m, 'resendStatus', 'waiting');\n}\n\nfunction resendAvailable(m) {\n  return resendStatus(m) == 'waiting' || resendStatus(m) == 'failed';\n}\n\nfunction restartPasswordless(m) {\n  // TODO: maybe we can take advantage of the transient fields\n  m = tremove(m, 'passwordlessStarted');\n  m = tremove(m, 'resendStatus'); // only for link\n  m = (0, _index2.clearFields)(m, ['vcode']); // only for code\n\n  return l.clearGlobalError(m);\n}\n\nfunction send(m) {\n  return get(m, 'send', isEmail(m) ? 'link' : 'code');\n}\n\nfunction isSendLink(m) {\n  return send(m) === 'link';\n}\n\nfunction setPasswordlessStarted(m, value) {\n  return tset(m, 'passwordlessStarted', value);\n}\n\nfunction passwordlessStarted(m) {\n  return tget(m, 'passwordlessStarted', false);\n}\n\nfunction passwordlessConnection(m) {\n  return l.connections(m, 'passwordless', 'email').get(0) || l.connections(m, 'passwordless', 'sms').get(0) || new _immutable.Map();\n}\n\nfunction isEmail(m) {\n  var c = passwordlessConnection(m);\n  return c.isEmpty() ? undefined : c.get('strategy') === 'email';\n}\n\nfunction showTerms(m) {\n  return get(m, 'showTerms', true);\n}\n\nfunction mustAcceptTerms(m) {\n  return get(m, 'mustAcceptTerms', false);\n}\n\nfunction termsAccepted(m) {\n  return !mustAcceptTerms(m) || tget(m, 'termsAccepted', false);\n}\n\nfunction toggleTermsAcceptance(m) {\n  return tset(m, 'termsAccepted', !termsAccepted(m));\n}\n"]},"metadata":{},"sourceType":"script"}